import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.BVOCwoKb.js";function x(){const[i,l]=t.useState(""),[n,c]=t.useState(""),[a,d]=t.useState(!1),[o,m]=t.useState({show:!1,type:"",message:""}),u=(s,r)=>{m({show:!0,type:s,message:r}),setTimeout(()=>{m({show:!1,type:"",message:""})},3e3)},g=async s=>{s.preventDefault(),d(!0);try{const r=await fetch("https://apipris.kysedomi.lat/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:n})}),p=await r.json();if(!r.ok)throw new Error(p.message||"Error al registrarse");u("success","Tu cuenta ha sido creada correctamente. Ahora puedes iniciar sesi칩n."),l(""),c("")}catch(r){u("error",r.message||"Ocurri칩 un error al registrarse")}finally{d(!1)}};return e.jsxs("div",{children:[o.show&&e.jsx("div",{className:`p-3 mb-4 rounded-lg text-sm ${o.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.message}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-register",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electr칩nico"}),e.jsx("input",{id:"email-register",type:"email",placeholder:"correo@ejemplo.com",value:i,onChange:s=>l(s.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password-register",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrase침a"}),e.jsx("input",{id:"password-register",type:"password",value:n,onChange:s=>c(s.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("button",{type:"submit",disabled:a,className:`w-full py-2 px-4 bg-gray-800 text-white rounded-md hover:bg-gray-700 transition-colors ${a?"opacity-70 cursor-not-allowed":""}`,children:a?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):"Registrarse"})]})]})}export{x as default};
