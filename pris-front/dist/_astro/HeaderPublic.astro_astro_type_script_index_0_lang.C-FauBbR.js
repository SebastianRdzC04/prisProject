import{l as u,c as f,i as m}from"./security.DPbZ2g5Y.js";const t=document.getElementById("loginButton"),i=document.getElementById("profileSection"),d=document.getElementById("loadingIndicator");async function g(){h();try{const e=await f();if(!e){r();return}if(m()){console.log("usuario administrador");const n=document.getElementById("profileMenu");if(n){const a=n.querySelector("hr");if(a){const o=document.createElement("a");o.href="/home",o.className="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",o.textContent="Dashboard",n.insertBefore(o,a)}}}L(e)}catch(e){console.error("Error verificando autenticaciÃ³n:",e),r()}}function h(){d&&d.classList.remove("hidden"),t&&t.classList.add("hidden"),i&&i.classList.add("hidden")}function r(){d&&d.classList.add("hidden"),t&&t.classList.remove("hidden"),i&&i.classList.add("hidden")}function L(e){const n=document.getElementById("userName"),a=e.user?.personal_data?.first_name||"Usuario",o=e.user?.personal_data?.last_name||"";n&&(n.textContent=`${a} ${o}`),d&&d.classList.add("hidden"),t&&t.classList.add("hidden"),i&&i.classList.remove("hidden")}document.addEventListener("DOMContentLoaded",g);const c=document.getElementById("profileButton"),s=document.getElementById("profileMenu");t&&t.addEventListener("click",e=>{e.preventDefault(),window.location.href="/authenticate"});c&&s&&(c.addEventListener("click",()=>{s.classList.toggle("hidden")}),document.addEventListener("click",e=>{!c.contains(e.target)&&!s.contains(e.target)&&s.classList.add("hidden")}));const l=document.getElementById("logoutButton");l&&l.addEventListener("click",e=>{e.preventDefault(),u(),r()});
