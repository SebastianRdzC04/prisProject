import{j as r}from"./jsx-runtime.D_zvdyIk.js";import{r as N}from"./index.BVOCwoKb.js";import{t as m,c as h,n as p,s as $,f as k,e as q}from"./es.7vS-dPc5.js";import{c as O}from"./createLucideIcon.A48v_36S.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],V=O("chevron-left",J);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],K=O("chevron-right",G);function M(e,s,t){const n=m(e,t?.in);if(isNaN(s))return h(e,NaN);if(!s)return n;const a=n.getDate(),l=h(e,n.getTime());l.setMonth(n.getMonth()+s+1,0);const i=l.getDate();return a>=i?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}function P(e,s,t){return M(e,s*12,t)}function Q(e){return h(e,Date.now())}function L(e,s,t){const[n,a]=p(t?.in,e,s);return+$(n)==+$(a)}function U(e,s){const t=m(e,s?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function W(e,s){const[t,n]=p(e,s.start,s.end);return{start:t,end:n}}function I(e,s){const{start:t,end:n}=W(s?.in,e);let a=+t>+n;const l=a?+t:+n,i=a?n:t;i.setHours(0,0,0,0);let b=1;const c=[];for(;+i<=l;)c.push(h(t,i)),i.setDate(i.getDate()+b),i.setHours(0,0,0,0);return a?c.reverse():c}function j(e,s){const t=m(e,s?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function X(e,s){return+m(e)<+m(s)}function Z(e,s,t){const[n,a]=p(t?.in,e,s);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function ee(e,s){return L(h(e,e),Q(e))}function v(e,s,t){return M(e,-1,t)}function oe({closedDays:e=[],possibleDays:s=[],disabledDays:t=[],closedColor:n="bg-red-200 hover:bg-red-300",possibleColor:a="bg-green-200 hover:bg-green-300",disabledColor:l="bg-gray-200",onSelectDate:i,className:b}){const[c,w]=N.useState(new Date),_=N.useMemo(()=>P(new Date,1),[]),y=N.useMemo(()=>{const o=M(c,1);return!X(j(o),j(_))},[c,_]),H=()=>{y||w(M(c,1))},S=()=>{w(v(c))},f=j(c),F=U(c),E=I({start:f,end:F}),Y=f.getDay(),C=6-F.getDay(),R=Y>0?I({start:v(f),end:v(f)}).slice(-Y):[],T=C>0?Array.from({length:C},(o,d)=>new Date(c.getFullYear(),c.getMonth()+1,d+1)):[],z=[...R,...E,...T],g=(o,d)=>d.some(x=>L(o,x)),A=o=>g(o,e)?n:g(o,s)?a:g(o,t)?l:"bg-white hover:bg-gray-100",B=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"];return r.jsxs("div",{className:`w-full max-w-5/6 mx-auto ${b||""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("button",{className:"h-9 w-9 rounded-md border border-gray-300 flex items-center justify-center hover:bg-gray-100",onClick:S,"aria-label":"Mes anterior",children:r.jsx(V,{className:"h-4 w-4"})}),r.jsx("h2",{className:"text-lg font-semibold",children:k(c,"MMMM yyyy",{locale:q})}),r.jsx("button",{className:`h-9 w-9 rounded-md border border-gray-300 flex items-center justify-center 
                    ${y?"opacity-50 cursor-not-allowed bg-gray-100":"hover:bg-gray-100"}`,onClick:H,"aria-label":"Mes siguiente",disabled:y,children:r.jsx(K,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:B.map(o=>r.jsx("div",{className:"text-center text-sm font-medium text-gray-500",children:o},o))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:z.map((o,d)=>{const x=Z(o,c),D=!x||g(o,t);let u="h-10 w-full rounded-md text-sm font-medium transition-colors flex items-center justify-center";return x?u+=` ${A(o)}`:u+=" text-gray-400 bg-gray-50",ee(o)&&(u+=" border border-blue-500"),D&&(u+=" cursor-not-allowed opacity-50"),r.jsx("button",{onClick:()=>!D&&i&&i(o),disabled:D,className:u,children:k(o,"d")},d)})}),r.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-4 h-4 rounded mr-2 ${n}`}),r.jsx("span",{className:"text-sm",children:"Días cerrados"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-4 h-4 rounded mr-2 ${a}`}),r.jsx("span",{className:"text-sm",children:"Días posibles"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-4 h-4 rounded mr-2 ${l}`}),r.jsx("span",{className:"text-sm",children:"Días deshabilitados"})]})]})]})}export{oe as default};
